import{a as te,b as ie,c as Ie}from"./chunk-PKP3HEYI.js";import{l as Ee,m as be,n as Se,o as Me}from"./chunk-F45RQ6PG.js";import"./chunk-HPHDTXNO.js";import"./chunk-PTD2UHZP.js";import{a as N}from"./chunk-3USFH6CF.js";import{$c as J,Aa as t,Ba as c,F as A,Fa as M,Ha as u,Hb as U,J as T,Ja as _,Jb as fe,K as L,Lb as oe,Ma as b,Na as de,O as v,P as y,Pa as l,Q as ae,Qa as x,R as re,Ra as C,Sc as k,Tc as w,Ua as ce,Uc as Ce,Vc as V,Xa as I,Ya as ge,Yc as Y,Zc as q,_c as K,aa as $,ab as R,ad as Q,bd as W,cb as B,dd as X,ea as r,ed as Z,fa as S,fd as ee,gd as xe,id as he,kd as z,ld as ve,md as ye,n as D,na as m,qa as pe,qb as G,rb as F,ua as d,va as E,xa as j,ya as H,yb as _e,za as i,zb as ue}from"./chunk-XRNJ2UIA.js";function Ae(e,a){e&1&&(i(0,"app-load"),l(1,"Cargando ..."),t())}function Le(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.plate)}}function $e(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.engine)}}function je(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.chassis)}}function He(e,a){if(e&1&&(i(0,"option",28),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function Re(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.example_id)}}function Be(e,a){if(e&1&&(i(0,"option",28),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function Ge(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.color_id)}}function Ue(e,a){if(e&1&&(i(0,"option",28),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function Ye(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.brand_id)}}function qe(e,a){if(e&1&&(i(0,"option",28),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function Ke(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.year_id)}}function Je(e,a){if(e&1&&c(0,"nz-option",29),e&2){let n=a.$implicit;de("nzLabel",`
              `,n.document+" - "+n.name+" "+n.surname+" "+n.last_name,`
            `),b("nzValue",n.id)}}function Qe(e,a){if(e&1&&(i(0,"span",27),l(1),t()),e&2){let n=_();r(),x(n.errors.client_id)}}function We(e,a){if(e&1){let n=M();i(0,"a",30),u("nzOnConfirm",function(){v(n);let p=_();return y(p.delete())})("nzOnCancel",function(){return""}),c(1,"i",31),t()}if(e&2){let n=_();m("nzPopconfirmTitle","Eliminar Veh\xEDculo: "+n.item.plate)}}function Xe(e,a){if(e&1){let n=M();i(0,"a",32),u("click",function(){v(n);let p=_();return y(p.service.goPage("car/index"))}),c(1,"i",33),t()}}function Ze(e,a){if(e&1&&(i(0,"div",34),c(1,"img",35),t()),e&2){let n=_();r(),m("src",n.service.apiUrl+"/"+n.item.storage,$)}}var et=()=>["car.destroy"],tt=()=>["car.index"],we=(()=>{let a=class a{constructor(s,p){this.service=s,this.route=p,this.id=null,this.loading=!1,this.item={},this.data=[],this.errors=null,p.params.subscribe(o=>{this.id=o.id,this.getInfo(),this.getData()})}ngOnInit(){}getInfo(){this.service.api(`mec/getCar/${this.id}`,"post").subscribe(s=>{this.item=s.data})}getData(){this.loading=!0;let s=this.service.api("mec/getClients","post",{company_id:this.service.user.company_id,per_page:"all"}),p=this.service.api("mec/getBrands","post",{company_id:this.service.user.company_id,per_page:"all"}),o=this.service.api("mec/getExamples","post",{company_id:this.service.user.company_id,per_page:"all"}),f=this.service.api("mec/getColors","post",{company_id:this.service.user.company_id,per_page:"all"}),g=this.service.api("mec/getYears","post",{company_id:this.service.user.company_id,per_page:"all"}),ne=D(s,p,o,f,g),h=[];ne.subscribe(P=>{h.push(P.data)},P=>{console.log(P)},()=>{this.data.clients=h[0],this.data.brands=h[1],this.data.examples=h[2],this.data.colors=h[3],this.data.years=h[4],this.loading=!1})}save(){this.loading=!0,this.errors=null,this.item.company_id=this.service.user.company_id,this.service.api(`mec/updateCar/${this.id}`,"post",this.item).subscribe(s=>{this.loading=!1,this.service.toast("success","Veh\xEDculo Actualizado"),this.service.goPage("car/edit/"+s.data.id)},s=>{console.log(s),this.loading=!1,this.errors=s.error.errors,this.service.toast("error","Registro fallido")})}delete(){this.service.api(`mec/deleteCar/${this.id}`,"delete").subscribe(s=>{this.service.toast("success","Veh\xEDculo Eliminado"),this.service.goPage("car/index")},s=>{console.log(s),this.service.toast("error","No se puede Eliminar")})}};a.\u0275fac=function(p){return new(p||a)(S(k),S(U))},a.\u0275cmp=T({type:a,selectors:[["app-car-edit"]],decls:80,vars:28,consts:[[1,"overflow-x-scroll"],[1,"px-2","py-3"],[1,"grid","gap-2","mb-6","md:grid-cols-2"],[1,"label-form"],[1,"relative"],[1,"input-icon"],[1,"fa-solid","fa-id-card-clip","text-gray-500"],["name","plate","type","text","autocomplete","off",1,"input",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"fa-solid","fa-signature","text-gray-500"],["name","engine","type","text","autocomplete","off",1,"input",3,"ngModel","ngModelChange"],[1,"fa-brands","fa-medapps","text-red-600","font-bold"],["name","chassis","type","text","autocomplete","off",1,"input",3,"ngModel","ngModelChange"],["name","item.example_id",1,"input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","item.color_id",1,"input",3,"ngModel","ngModelChange"],["name","item.brand_id",1,"input",3,"ngModel","ngModelChange"],["name","item.year_id",1,"input",3,"ngModel","ngModelChange"],["name","item.client_id","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Selecciona un Propietario",1,"w-full","p-1","bg-gray-200","rounded-lg","border-gray-300","border",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[1,"flex"],[1,"btn-save",3,"click"],[1,"fa-solid","fa-pen-to-square"],["nz-popconfirm","","nzPopconfirmPlacement","top","nzOkText","ELIMINAR","nzCancelText","CANCELAR","class","btn-delete",3,"nzPopconfirmTitle","nzOnConfirm","nzOnCancel",4,"setPermission"],["class","btn-list",3,"click",4,"setPermission"],["model","Car","storage","cars",3,"id","message"],["class","w-full flex items-center justify-center"],[1,"error"],[3,"value"],[3,"nzLabel","nzValue"],["nz-popconfirm","","nzPopconfirmPlacement","top","nzOkText","ELIMINAR","nzCancelText","CANCELAR",1,"btn-delete",3,"nzPopconfirmTitle","nzOnConfirm","nzOnCancel"],[1,"fa-solid","fa-trash"],[1,"btn-list",3,"click"],[1,"fa-solid","fa-table"],[1,"w-full","flex","items-center","justify-center"],["alt","",1,"rounded-md","h-44","md:h-72",3,"src"]],template:function(p,o){p&1&&(d(0,Ae,2,0,"app-load"),i(1,"app-title"),l(2,"Actualizar Veh\xEDculo"),t(),i(3,"form",0)(4,"div",1)(5,"div",2)(6,"div")(7,"label",3),l(8,"Placa"),t(),i(9,"div",4)(10,"div",5),c(11,"i",6),t(),i(12,"input",7),u("ngModelChange",function(g){return o.item.plate=g}),t()(),d(13,Le,2,1,"span",8),t(),i(14,"div")(15,"label",3),l(16,"N\xB0 Motor"),t(),i(17,"div",4)(18,"div",5),c(19,"i",9),t(),i(20,"input",10),u("ngModelChange",function(g){return o.item.engine=g}),t()(),d(21,$e,2,1,"span",8),t(),i(22,"div")(23,"label",3),l(24,"N\xB0 Chasis "),c(25,"i",11),t(),i(26,"div",4)(27,"div",5),c(28,"i",9),t(),i(29,"input",12),u("ngModelChange",function(g){return o.item.chassis=g}),t()(),d(30,je,2,1,"span",8),t(),i(31,"div")(32,"label",3),l(33,"Modelo"),t(),i(34,"div",4)(35,"div",5),c(36,"i",9),t(),i(37,"select",13),u("ngModelChange",function(g){return o.item.example_id=g}),d(38,He,2,2,"option",14),t()(),d(39,Re,2,1,"span",8),t(),i(40,"div")(41,"label",3),l(42,"Color"),t(),i(43,"div",4)(44,"div",5),c(45,"i",9),t(),i(46,"select",15),u("ngModelChange",function(g){return o.item.color_id=g}),d(47,Be,2,2,"option",14),t()(),d(48,Ge,2,1,"span",8),t(),i(49,"div")(50,"label",3),l(51,"Marca"),t(),i(52,"div",4)(53,"div",5),c(54,"i",9),t(),i(55,"select",16),u("ngModelChange",function(g){return o.item.brand_id=g}),d(56,Ue,2,2,"option",14),t()(),d(57,Ye,2,1,"span",8),t(),i(58,"div")(59,"label",3),l(60,"A\xF1o"),t(),i(61,"div",4)(62,"div",5),c(63,"i",9),t(),i(64,"select",17),u("ngModelChange",function(g){return o.item.year_id=g}),d(65,qe,2,2,"option",14),t()(),d(66,Ke,2,1,"span",8),t(),i(67,"div")(68,"label",3),l(69,"Propietario"),t(),i(70,"nz-select",18),u("ngModelChange",function(g){return o.item.client_id=g}),d(71,Je,1,2,"nz-option",19),t(),d(72,Qe,2,1,"span",8),t()(),i(73,"div",20)(74,"button",21),u("click",function(){return o.save()}),c(75,"i",22),t(),d(76,We,2,1,"a",23)(77,Xe,2,0,"a",24),i(78,"app-file",25),u("message",function(){return o.getInfo()}),t()()()(),d(79,Ze,2,1,"div",26)),p&2&&(E(0,o.loading?0:-1),r(12),m("ngModel",o.item.plate),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.engine),r(),m("ngIf",o.errors),r(8),m("ngModel",o.item.chassis),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.example_id),r(),m("ngForOf",o.data.examples),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.color_id),r(),m("ngForOf",o.data.colors),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.brand_id),r(),m("ngForOf",o.data.brands),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.year_id),r(),m("ngForOf",o.data.years),r(),m("ngIf",o.errors),r(4),m("ngModel",o.item.client_id),r(),m("ngForOf",o.data.clients),r(),m("ngIf",o.errors),r(4),m("setPermission",I(26,et)),r(),m("setPermission",I(27,tt)),r(),m("id",o.id),r(),E(79,o.item.storage?79:-1))},dependencies:[G,F,z,w,Ce,W,Z,ee,Y,X,q,K,Q,J,Ee,V,te,ie]});let e=a;return e})();function it(e,a){e&1&&(i(0,"app-load"),l(1,"Cargando ..."),t())}function nt(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.plate)}}function at(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.engine)}}function rt(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.chassis)}}function ot(e,a){if(e&1&&(i(0,"option",26),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function lt(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.example_id)}}function st(e,a){if(e&1&&(i(0,"option",26),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function mt(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.color_id)}}function pt(e,a){if(e&1&&(i(0,"option",26),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function dt(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.brand_id)}}function ct(e,a){if(e&1&&(i(0,"option",26),l(1),t()),e&2){let n=a.$implicit;b("value",n.id),r(),C(" ",n.name," ")}}function gt(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.year_id)}}function _t(e,a){if(e&1&&c(0,"nz-option",27),e&2){let n=a.$implicit;m("nzLabel",n.document+" - "+n.name+" "+n.surname+" "+n.last_name)("nzValue",n.id)}}function ut(e,a){if(e&1&&(i(0,"span",25),l(1),t()),e&2){let n=_();r(),x(n.errors.client_id)}}var ze=(()=>{let a=class a{constructor(s){this.service=s,this.loading=!1,this.item={},this.data=[],this.errors=null}ngOnInit(){this.getData()}getData(){this.loading=!0;let s=this.service.api("mec/getClients","post",{company_id:this.service.user.company_id,per_page:"all"}),p=this.service.api("mec/getBrands","post",{company_id:this.service.user.company_id,per_page:"all"}),o=this.service.api("mec/getExamples","post",{company_id:this.service.user.company_id,per_page:"all"}),f=this.service.api("mec/getColors","post",{company_id:this.service.user.company_id,per_page:"all"}),g=this.service.api("mec/getYears","post",{company_id:this.service.user.company_id,per_page:"all"}),ne=D(s,p,o,f,g),h=[];ne.subscribe(P=>{h.push(P.data)},P=>{console.log(P)},()=>{this.data.clients=h[0],this.data.brands=h[1],this.data.examples=h[2],this.data.colors=h[3],this.data.years=h[4],this.loading=!1})}save(){this.loading=!0,this.errors=null,this.item.company_id=this.service.user.company_id,this.service.api("mec/registerCar","post",this.item).subscribe(s=>{this.loading=!1,this.service.toast("success","Veh\xEDculo Registrado"),this.service.goPage("car/edit/"+s.data.id)},s=>{console.log(s),this.loading=!1,this.errors=s.error.errors,this.service.toast("error","Registro fallido")})}};a.\u0275fac=function(p){return new(p||a)(S(k))},a.\u0275cmp=T({type:a,selectors:[["app-car-create"]],decls:78,vars:22,consts:[[1,"overflow-x-scroll"],[1,"px-2","py-3"],[1,"grid","gap-2","mb-6","md:grid-cols-2"],[1,"label-form"],[1,"relative"],[1,"input-icon"],[1,"fa-solid","fa-id-card-clip","text-gray-500"],["name","plate","type","text","autocomplete","off",1,"input",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"fa-solid","fa-signature","text-gray-500"],["name","engine","type","text","autocomplete","off",1,"input",3,"ngModel","ngModelChange"],[1,"fa-brands","fa-medapps","text-red-600","font-bold"],["name","chassis","type","text","autocomplete","off",1,"input",3,"ngModel","ngModelChange"],["name","item.example_id",1,"input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","item.color_id",1,"input",3,"ngModel","ngModelChange"],["name","item.brand_id",1,"input",3,"ngModel","ngModelChange"],["name","item.year_id",1,"input",3,"ngModel","ngModelChange"],["name","item.client_id","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Selecciona un Propietario",1,"w-full","p-1","bg-gray-200","rounded-lg","border-gray-300","border",3,"ngModel","ngModelChange"],["nzValue","jack",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[1,"flex"],[1,"btn-save",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"btn-list",3,"click"],[1,"fa-solid","fa-table"],[1,"error"],[3,"value"],["nzValue","jack",3,"nzLabel","nzValue"]],template:function(p,o){p&1&&(d(0,it,2,0,"app-load"),i(1,"app-title"),l(2,"Registrar Veh\xEDculo"),t(),i(3,"form",0)(4,"div",1)(5,"div",2)(6,"div")(7,"label",3),l(8,"Placa"),t(),i(9,"div",4)(10,"div",5),c(11,"i",6),t(),i(12,"input",7),u("ngModelChange",function(g){return o.item.plate=g}),t()(),d(13,nt,2,1,"span",8),t(),i(14,"div")(15,"label",3),l(16,"N\xB0 Motor"),t(),i(17,"div",4)(18,"div",5),c(19,"i",9),t(),i(20,"input",10),u("ngModelChange",function(g){return o.item.engine=g}),t()(),d(21,at,2,1,"span",8),t(),i(22,"div")(23,"label",3),l(24,"N\xB0 Chasis "),c(25,"i",11),t(),i(26,"div",4)(27,"div",5),c(28,"i",9),t(),i(29,"input",12),u("ngModelChange",function(g){return o.item.chassis=g}),t()(),d(30,rt,2,1,"span",8),t(),i(31,"div")(32,"label",3),l(33,"Modelo"),t(),i(34,"div",4)(35,"div",5),c(36,"i",9),t(),i(37,"select",13),u("ngModelChange",function(g){return o.item.example_id=g}),d(38,ot,2,2,"option",14),t()(),d(39,lt,2,1,"span",8),t(),i(40,"div")(41,"label",3),l(42,"Color"),t(),i(43,"div",4)(44,"div",5),c(45,"i",9),t(),i(46,"select",15),u("ngModelChange",function(g){return o.item.color_id=g}),d(47,st,2,2,"option",14),t()(),d(48,mt,2,1,"span",8),t(),i(49,"div")(50,"label",3),l(51,"Marca"),t(),i(52,"div",4)(53,"div",5),c(54,"i",9),t(),i(55,"select",16),u("ngModelChange",function(g){return o.item.brand_id=g}),d(56,pt,2,2,"option",14),t()(),d(57,dt,2,1,"span",8),t(),i(58,"div")(59,"label",3),l(60,"A\xF1o"),t(),i(61,"div",4)(62,"div",5),c(63,"i",9),t(),i(64,"select",17),u("ngModelChange",function(g){return o.item.year_id=g}),d(65,ct,2,2,"option",14),t()(),d(66,gt,2,1,"span",8),t(),i(67,"div")(68,"label",3),l(69,"Propietario"),t(),i(70,"nz-select",18),u("ngModelChange",function(g){return o.item.client_id=g}),d(71,_t,1,2,"nz-option",19),t(),d(72,ut,2,1,"span",8),t()(),i(73,"div",20)(74,"button",21),u("click",function(){return o.save()}),c(75,"i",22),t(),i(76,"a",23),u("click",function(){return o.service.goPage("car/index")}),c(77,"i",24),t()()()()),p&2&&(E(0,o.loading?0:-1),r(12),m("ngModel",o.item.plate),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.engine),r(),m("ngIf",o.errors),r(8),m("ngModel",o.item.chassis),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.example_id),r(),m("ngForOf",o.data.examples),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.color_id),r(),m("ngForOf",o.data.colors),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.brand_id),r(),m("ngForOf",o.data.brands),r(),m("ngIf",o.errors),r(7),m("ngModel",o.item.year_id),r(),m("ngForOf",o.data.years),r(),m("ngIf",o.errors),r(4),m("ngModel",o.item.client_id),r(),m("ngForOf",o.data.clients),r(),m("ngIf",o.errors))},dependencies:[G,F,z,w,W,Z,ee,Y,X,q,K,Q,J,te,ie]});let e=a;return e})();var ft=(e,a)=>a.id;function Ct(e,a){e&1&&c(0,"app-load")}function xt(e,a){if(e&1){let n=M();i(0,"a",8),u("click",function(){v(n);let p=_();return y(p.service.goPage("car/create"))}),c(1,"i",9),t()}}function ht(e,a){if(e&1){let n=M();i(0,"a",18),u("click",function(){v(n);let p=_().$implicit,o=_();return y(o.service.goPage("car/history/"+p.id))}),c(1,"i",19),t()}}function vt(e,a){if(e&1){let n=M();i(0,"a",18),u("click",function(){v(n);let p=_().$implicit,o=_();return y(o.service.goPage("car/edit/"+p.id))}),c(1,"i",20),t()}}var yt=()=>["car.history"],Et=()=>["car.edit"];function bt(e,a){if(e&1&&(i(0,"tr",10)(1,"td",11),l(2),t(),i(3,"td",11),c(4,"p-image",12),t(),i(5,"td",13),l(6),t(),i(7,"td",14),l(8),t(),i(9,"td",11),l(10),t(),i(11,"td",11),c(12,"i",15),t(),i(13,"td",16),d(14,ht,2,0,"a",17)(15,vt,2,0,"a",17),t()()),e&2){let n=a.$implicit,s=_();r(2),C(" ",n.number," "),r(2),m("src",n.storage?s.service.apiUrl+"/"+n.storage:"assets/img/logo.png")("preview",!0),r(2),ce(" ",n.client.document," - ",n.client.name," ",n.client.surname," ",n.client.last_name," "),r(2),C(" ",n.plate," "),r(2),C(" ",n.example.name," "),r(2),pe("color:"+n.color.hex),r(2),m("setPermission",I(13,yt)),r(),m("setPermission",I(14,Et))}}function St(e,a){if(e&1){let n=M();i(0,"nav",7)(1,"ul",21)(2,"li")(3,"a",22),u("click",function(){v(n);let p=_();return y(p.changePage(-1))}),ae(),i(4,"svg",23),c(5,"path",24),t(),re(),i(6,"span"),l(7,"Anterior"),t()()(),i(8,"li")(9,"a",25),l(10),t()(),i(11,"li")(12,"a",26),u("click",function(){v(n);let p=_();return y(p.changePage(1))}),i(13,"span"),l(14,"Siguiente"),t(),ae(),i(15,"svg",23),c(16,"path",27),t()()()(),re(),i(17,"span"),l(18),t()()}if(e&2){let n=_();r(10),C(" P\xE1gina ",n.meta.current_page,""),r(8),C("Total de Resultados: ",n.meta.total,"")}}var Mt=()=>["car.create"],Pe=(()=>{let a=class a{constructor(s){this.service=s,this.per_page=null,this.search="",this.loading=!1,this.data=[],this.meta=null,this.actualPage=1,this.getData()}getData(s=[5,""]){this.per_page=s[0],this.search=s[1],this.list()}list(){this.loading=!0,this.service.api("mec/getCars?included=client,brand,color,year,example","post",{company_id:this.service.user.company_id,search:this.search,perPage:this.per_page}).subscribe(s=>{this.loading=!1,this.data=s.data,s.meta?this.meta=s.meta:this.meta=null},s=>{this.loading=!1,this.service.toast("error",s.error.message)})}get page(){return this.meta==null?"":`page=${this.actualPage}`}changePage(s){let p=this.actualPage+s;1<=p&&p<=this.meta.last_page?(this.actualPage+=s,this.list()):this.service.toast("warning","No hay m\xE1s p\xE1ginas")}};a.\u0275fac=function(p){return new(p||a)(S(k))},a.\u0275cmp=T({type:a,selectors:[["app-car-index"]],decls:28,vars:4,consts:[[3,"data"],["class","inline-flex items-center py-2.5 px-3 ml-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",3,"click",4,"setPermission"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"sr-only"],["aria-label","Page navigation example"],[1,"inline-flex","items-center","py-2.5","px-3","ml-2","text-sm","font-medium","text-white","bg-blue-700","rounded-lg","border","border-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],[1,"fa-solid","fa-circle-plus"],[1,"bg-white","border-b","hover:bg-gray-50","text-gray-700"],[1,"px-6","py-4"],["alt","Perfil","width","30",3,"src","preview"],[1,"px-6","py-4","capitalize"],[1,"px-6","py-4","uppercase"],[1,"fa-solid","fa-car-on","text-2xl"],[1,"px-6","py-4","text-right","flex"],["class","ml-2 bg-blue-700 text-white px-2 py-1 rounded-full",3,"click",4,"setPermission"],[1,"ml-2","bg-blue-700","text-white","px-2","py-1","rounded-full",3,"click"],[1,"fa-solid","fa-list-check"],[1,"fa-solid","fa-marker"],[1,"flex","items-center","-space-x-px","h-10","text-base","mt-3"],["href","#","onclick","return false",1,"flex","items-center","justify-center","px-4","h-10","ml-0","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-l-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],["href","#",1,"flex","items-center","justify-center","px-4","h-10","leading-tight","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white"],["href","#","onclick","return false",1,"flex","items-center","justify-center","px-4","h-10","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-r-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],["class","bg-white border-b hover:bg-gray-50 text-gray-700"]],template:function(p,o){p&1&&(d(0,Ct,1,0,"app-load"),i(1,"app-title"),l(2,"Lista de Veh\xEDculos"),t(),i(3,"app-search",0),u("data",function(g){return o.getData(g)}),d(4,xt,2,0,"a",1),t(),i(5,"div",2)(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),l(10,"ID"),t(),i(11,"th",5),l(12,"FOTO"),t(),i(13,"th",5),l(14,"PROPIETARIO"),t(),i(15,"th",5),l(16,"PLACA"),t(),i(17,"th",5),l(18,"MODELO"),t(),i(19,"th",5),l(20,"COLOR"),t(),i(21,"th",5)(22,"span",6),l(23,"Edit"),t()()()(),i(24,"tbody"),j(25,bt,16,15,"tr",28,ft),t()()(),d(27,St,19,2,"nav",7)),p&2&&(E(0,o.loading?0:-1),r(4),m("setPermission",I(3,Mt)),r(21),H(o.data),r(2),E(27,o.meta?27:-1))},dependencies:[z,w,he,Se,V]});let e=a;return e})();var It=(e,a)=>a.id;function Tt(e,a){e&1&&(i(0,"app-load"),l(1,"Cargando ..."),t())}function kt(e,a){if(e&1&&(i(0,"div",6),c(1,"img",7),t()),e&2){let n=_();r(),m("src",n.service.apiUrl+"/"+n.item.storage,$)}}function wt(e,a){e&1&&(i(0,"span",17),l(1," DEUDA "),t())}function zt(e,a){e&1&&(i(0,"span",18),l(1," PENDIENTE "),t())}function Pt(e,a){e&1&&(i(0,"span",19),l(1," CANCELADO "),t())}function Ft(e,a){e&1&&(i(0,"span",20),l(1," PAGADO "),t())}var Vt=e=>["/report-sale",e];function Nt(e,a){if(e&1&&(i(0,"a",21),c(1,"i",22),t()),e&2){let n=_().$implicit;m("routerLink",ge(1,Vt,n.id))}}function Ot(e,a){if(e&1){let n=M();i(0,"a",23),u("click",function(){v(n);let p=_().$implicit,o=_();return y(o.service.goPage("sale/detail/"+p.id))}),c(1,"i",24),t()}}var Dt=()=>["sale.print"],At=()=>["sale.detail"];function Lt(e,a){if(e&1&&(i(0,"tr",8)(1,"td",9),l(2),t(),i(3,"td",9),d(4,wt,2,0,"span",10)(5,zt,2,0,"span",11)(6,Pt,2,0,"span",12)(7,Ft,2,0,"span",13),t(),i(8,"td",9)(9,"div"),l(10),R(11,"date"),t()(),i(12,"td",9),l(13),R(14,"date"),t(),i(15,"td",9),l(16),R(17,"date"),t(),i(18,"td",9),l(19),t(),i(20,"td",14),d(21,Nt,2,3,"a",15)(22,Ot,2,0,"a",16),t()()),e&2){let n=a.$implicit;r(2),C("N\xB0 ",n.number,""),r(2),m("ngIf",n.status=="debt"),r(),m("ngIf",n.status=="pending"),r(),m("ngIf",n.status=="cancelled"),r(),m("ngIf",n.status=="done"),r(3),C(" ",B(11,11,n.entry_date,"dd/MM/yyyy")," "),r(3),C(" ",B(14,14,n.exit_date,"dd/MM/yyyy")," "),r(3),C(" ",B(17,17,n.payment_date,"dd/MM/yyyy")," "),r(3),C(" ",n.km," "),r(2),m("setPermission",I(20,Dt)),r(),m("setPermission",I(21,At))}}var Fe=(()=>{let a=class a{constructor(s,p){this.service=s,this.route=p,this.id=null,this.loading=!1,this.item={},this.history=[],p.params.subscribe(o=>{this.id=o.id,this.getInfo(),this.getData()})}getInfo(){this.service.api(`mec/getCar/${this.id}`,"post").subscribe(s=>{this.item=s.data})}getData(){this.loading=!0,this.service.api(`mec/getCarHistory/${this.id}`,"get").subscribe(s=>{this.history=s.data,this.loading=!1,console.log(this.history)},s=>{console.log(s),this.loading=!1})}};a.\u0275fac=function(p){return new(p||a)(S(k),S(U))},a.\u0275cmp=T({type:a,selectors:[["app-car-history"]],decls:26,vars:3,consts:[["class","w-full flex items-center justify-center"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"sr-only"],[1,"w-full","flex","items-center","justify-center"],["alt","",1,"rounded-md","h-44","md:h-72",3,"src"],[1,"bg-white","border-b","hover:bg-gray-50","text-gray-700"],[1,"px-6","py-4"],["class","bg-yellow-500 p-1 rounded-lg text-white",4,"ngIf"],["class","bg-green-500 p-1 rounded-lg text-white",4,"ngIf"],["class","bg-red-500 p-1 rounded-lg text-white",4,"ngIf"],["class","bg-blue-500 p-1 rounded-lg text-white",4,"ngIf"],[1,"px-6","py-4","flex","justify-center","items-center"],["target","_blank","class","ml-2 bg-sky-600 text-white px-2 py-1 rounded-full",3,"routerLink",4,"setPermission"],["class","ml-2 bg-green-700 text-white px-2 py-1 rounded-full",3,"click",4,"setPermission"],[1,"bg-yellow-500","p-1","rounded-lg","text-white"],[1,"bg-green-500","p-1","rounded-lg","text-white"],[1,"bg-red-500","p-1","rounded-lg","text-white"],[1,"bg-blue-500","p-1","rounded-lg","text-white"],["target","_blank",1,"ml-2","bg-sky-600","text-white","px-2","py-1","rounded-full",3,"routerLink"],[1,"fa-solid","fa-print"],[1,"ml-2","bg-green-700","text-white","px-2","py-1","rounded-full",3,"click"],[1,"fa-solid","fa-book"],["class","bg-white border-b hover:bg-gray-50 text-gray-700"]],template:function(p,o){p&1&&(d(0,Tt,2,0,"app-load"),i(1,"app-title"),l(2),t(),d(3,kt,2,1,"div",0),i(4,"div",1)(5,"table",2)(6,"thead",3)(7,"tr")(8,"th",4),l(9,"VENTA"),t(),i(10,"th",4),l(11,"Estado"),t(),i(12,"th",4),l(13,"F.Ingreso"),t(),i(14,"th",4),l(15,"F.Salida"),t(),i(16,"th",4),l(17,"F.Pago"),t(),i(18,"th",4),l(19,"Km"),t(),i(20,"th",4)(21,"span",5),l(22,"Edit"),t()()()(),i(23,"tbody"),j(24,Lt,23,22,"tr",25,It),t()()()),p&2&&(E(0,o.loading?0:-1),r(2),C("Historial del Veh\xEDculo: ",o.item.plate,""),r(),E(3,o.item.storage?3:-1),r(21),H(o.history))},dependencies:[F,fe,z,w,V,_e]});let e=a;return e})();var $t=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:Pe,canActivate:[N],data:{access:["car.index"]}},{path:"create",component:ze,canActivate:[N],data:{access:["car.create"]}},{path:"edit/:id",component:we,canActivate:[N],data:{access:["car.edit"]}},{path:"history/:id",component:Fe,canActivate:[N],data:{access:["car.history"]}}],Ve=(()=>{let a=class a{};a.\u0275fac=function(p){return new(p||a)},a.\u0275mod=L({type:a}),a.\u0275inj=A({imports:[oe.forChild($t),oe]});let e=a;return e})();var hi=(()=>{let a=class a{};a.\u0275fac=function(p){return new(p||a)},a.\u0275mod=L({type:a}),a.\u0275inj=A({imports:[ue,Ve,ye,xe,be,Me,ve,Ie]});let e=a;return e})();export{hi as CarModule};
